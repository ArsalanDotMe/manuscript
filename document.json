{
  "config": {
    "static": {
      "name": "My Awesome API",
      "version": "0.1.0"
    },
    "dynamic": {
      "default": {
        "host": "localhost",
        "port": 8057,
        "db": {
          "api": {
            "host": "localhost",
            "user": "arsalanahmad",
            "password": "",
            "database": "manuscript",
            "port": 5432
          }
        }
      },
      "development": {},
      "test": {},
      "production": {}
    }
  },
  "routes": [
    {
      "method": "POST",
      "path": "/todos",
      "description": "Creates a new todo",
      "operations": [
        {
          "type": "db",
          "config": {
            "method": "insert",
            "table": "todos",
            "database": "api",
            "columns": [
              { "column": "title", "value": "$request.body.title" },
              { "column": "done", "value": "$request.body.done" }
            ]
          }
        }
      ]
    },
    {
      "method": "GET",
      "path": "/todos",
      "description": "Gets todos from the list",
      "operations": [
        {
          "type": "db",
          "config": {
            "method": "select",
            "table": "todos",
            "database": "api",
          }
        }
      ]
    },
    {
      "method": "PUT",
      "path": "/todos/{todoId}/toggle",
      "description": "Toggles the done state of the todo",
      "operations": [
        {
          "type": "db",
          "config": {
            "method": "update",
            "table": "todos",
            "database": "api",
            "where": {
              "query": "id = ?",
              "params": [ "$request.params.todoId" ]
            },
            "update": {
              "query": "done = !done",
            }
          }
        }
      ]
    },
    {
      "method": "DELETE",
      "path": "/todos",
      "description": "Deletes a todo",
      "operations": [
        {
          "type": "db",
          "config": {
            "method": "delete",
            "table": "todos",
            "database": "api",
            "where": [
              { "column": "id", "value": "$request.params.todoId" }
            ]
          }
        },
      ]
    }
  ]
}
